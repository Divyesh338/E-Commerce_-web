<div class="page-wrapper">
    <div class="authentication-box">
        <div class="auth-card shadow-lg">

            <!-- ng-bootstrap Tabs -->
            <ul ngbNav #nav="ngbNav" class="nav nav-tabs custom-tabs" [(activeId)]="activeTab">
                <!-- Login Tab -->
                <li ngbNavItem="logintab">
                    <a ngbNavLink>
                        <i class="fa fa-unlock"></i> Login
                    </a>

                    <ng-template ngbNavContent>
                        <form [formGroup]="loginForm" (ngSubmit)="login()" class="auth-form">
                            <div class="form-group mb-3">
                                <input type="email" class="form-control" placeholder="Username"
                                    formControlName="userName" />
                                <div class="error"
                                    *ngIf="loginForm.get('userName')?.touched && loginForm.get('userName')?.invalid">
                                    Username is required and must be a valid name.
                                </div>
                            </div>

                            <div class="form-group mb-3">
                                <input type="password" class="form-control" placeholder="Password"
                                    formControlName="password" />
                                <div class="error"
                                    *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.invalid">
                                    Password is required.
                                </div>
                            </div>

                            <div class="form-button text-center">
                                <button class="btn btn-primary w-100" type="submit" [disabled]="loginForm.invalid">
                                    Login
                                </button>
                            </div>
                        </form>
                    </ng-template>
                </li>

                <!-- Registration Tab -->
                <li ngbNavItem="registertab">
                    <a ngbNavLink>
                        <i class="fa fa-user"></i> Registration
                    </a>

                    <ng-template ngbNavContent>
                        <form [formGroup]="registerForm" (ngSubmit)="register(registerForm)" class="auth-form">
                            <div class="form-group mb-3">
                                <input type="text" class="form-control" placeholder="First Name"
                                    formControlName="firstName" />
                                <div class="error"
                                    *ngIf="registerForm.get('firstName')?.touched && registerForm.get('firstName')?.invalid">
                                    First Name is required (3–10 characters).
                                </div>
                            </div>

                            <div class="form-group mb-3">
                                <input type="text" class="form-control" placeholder="Last Name"
                                    formControlName="lastName" />
                                <div class="error"
                                    *ngIf="registerForm.get('lastName')?.touched && registerForm.get('lastName')?.invalid">
                                    Last Name is required (3–10 characters).
                                </div>
                            </div>

                            <div class="form-group mb-3">
                                <input type="email" class="form-control" placeholder="Email" formControlName="email" />
                                <div class="error"
                                    *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid">
                                    Valid Email is required.
                                </div>
                            </div>

                            <div class="form-group mb-3">
                                <input type="password" class="form-control" placeholder="Password"
                                    formControlName="password" />
                                <div class="error"
                                    *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid">
                                    Password must contain uppercase, lowercase, number & special character.
                                </div>
                            </div>

                            <div class="form-group mb-3">
                                <input type="password" class="form-control" placeholder="Confirm Password"
                                    formControlName="confirmPassword" />
                                <div class="error"
                                    *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.invalid">
                                    Must match Password.
                                </div>
                            </div>

                            <div class="form-button text-center">
                                <button class="btn btn-primary w-100" type="submit" [disabled]="registerForm.invalid">
                                    Register
                                </button>
                            </div>
                        </form>
                    </ng-template>
                </li>
            </ul>

            <div [ngbNavOutlet]="nav" class="tab-content-wrapper"></div>
        </div>
    </div>
</div>